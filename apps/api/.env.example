# ============================================
# CLUBIIO API - ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env and configure for your environment
# SECURITY: Never commit .env files with real secrets!

# ============================================
# DATABASE
# ============================================
DATABASE_URL="postgresql://clubio:clubio123@localhost:5432/clubio?schema=public"

# Connection pool settings (for Neon, use ?pgbouncer=true in URL)
DATABASE_POOL_SIZE=10
DATABASE_QUERY_TIMEOUT_MS=30000
DATABASE_SLOW_QUERY_MS=1000

# ============================================
# JWT CONFIGURATION
# ============================================
# SECURITY: Use a strong random secret (minimum 32 characters)
# Generate with: openssl rand -base64 48
JWT_SECRET="CHANGE_ME_use_openssl_rand_base64_48_to_generate"
JWT_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

# ============================================
# MFA CONFIGURATION
# ============================================
# MFA is required for OWNER and ADMIN roles by default
# Users can set up TOTP-based 2FA via authenticator apps
# Backup codes are generated during MFA setup

# ============================================
# SESSION & CSRF (Security tokens)
# ============================================
# Generate with: openssl rand -base64 32
SESSION_SECRET="CHANGE_ME_generate_secure_random_string"
CSRF_SECRET="CHANGE_ME_generate_secure_random_string"

# ============================================
# SECRETS PROVIDER (Production)
# ============================================
# Options: env (default), aws, gcp, azure
# Use 'env' for development, cloud providers for production
SECRETS_PROVIDER=env

# AWS Secrets Manager (when SECRETS_PROVIDER=aws)
# AWS_REGION=us-east-1
# AWS_SECRET_PREFIX=clubio/production/

# GCP Secret Manager (when SECRETS_PROVIDER=gcp)
# GCP_PROJECT_ID=your-project-id
# GCP_SECRET_PREFIX=clubio-

# ============================================
# SERVER
# ============================================
PORT=3000
NODE_ENV=development

# ============================================
# CORS
# ============================================
CORS_ORIGIN="http://localhost:5173,http://localhost:3001"

# ============================================
# RATE LIMITING
# ============================================
# Standard rate limiting (all endpoints)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# Login rate limiting (auth endpoints)
LOGIN_MAX_ATTEMPTS=5
LOGIN_WINDOW_MS=900000

# PIN login rate limiting (POS terminals)
PIN_MAX_ATTEMPTS=3
PIN_WINDOW_MS=300000

# ============================================
# ACCOUNT LOCKOUT
# ============================================
LOCKOUT_MAX_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15

# ============================================
# FEATURE FLAGS
# ============================================
FEATURE_QUEUE_ENGINE=false
FEATURE_STOCK_ALERTS=false

# ============================================
# EXTERNAL SERVICES (Optional)
# ============================================
# Email service (e.g., SendGrid, Resend)
# EMAIL_API_KEY=""
# EMAIL_FROM="noreply@clubiio.com"

# SMS service (e.g., Twilio)
# TWILIO_ACCOUNT_SID=""
# TWILIO_AUTH_TOKEN=""
# TWILIO_PHONE_NUMBER=""

# Push notifications (e.g., Firebase)
# FIREBASE_PROJECT_ID=""
# FIREBASE_PRIVATE_KEY=""
# FIREBASE_CLIENT_EMAIL=""

# ============================================
# REDIS (Caching & Sessions)
# ============================================
# Option 1: Redis URL (common in PaaS environments)
# REDIS_URL="redis://:password@localhost:6379/0"

# Option 2: Individual settings
REDIS_HOST="localhost"
REDIS_PORT=6379
# REDIS_PASSWORD=""
REDIS_DB=0
REDIS_PREFIX="clubio:"

# ============================================
# MONITORING (Production)
# ============================================
# Sentry error tracking
# SENTRY_DSN=""

# Logging service
# LOG_LEVEL="info"
# LOG_FORMAT="json"
